if flag_b: turn_down()
if marked_forward: clear_flag_a()
if flag_a: nop()
if getting_closer(): move_forward()
if getting_closer(): unmark_position()
move_forward()
if check_no_progress(): move_forward()
if random_choice(): clear_flag_b()
if not can_move_forward: clear_flag_b()
if check_no_progress(): set_flag_a()
if not getting_closer(): go_to_flag_b()
if not random_choice(): clear_flag_b()
if check_visited_position(): unmark_position()
if not can_move_forward: turn_up()
if flag_a: unmark_position()
if marked_forward: turn_left()
if not random_choice(): mark_position()
if not getting_closer(): mark_position()
if not can_move_forward: set_flag_b()
if not can_move_backward: nop()
