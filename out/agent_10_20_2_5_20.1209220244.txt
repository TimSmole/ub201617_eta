if can_move_backward: clear_flag_a()
if can_move_forward: unmark_position()
turn_right()
if can_move_forward: turn_down()
if marked_current: turn_up()
if flag_b: turn_up()
if check_no_progress(): turn_left()
if not getting_closer(): clear_flag_b()
if flag_a: mark_position()
if not flag_b: clear_flag_b()
if not marked_backward: turn_left()
if getting_closer(): unmark_position()
if flag_a: clear_flag_a()
if not can_move_forward: turn_down()
if not marked_current: set_flag_a()
if not check_no_progress(): turn_up()
if can_move_forward: go_to_flag_b()
if not marked_current: unmark_position()
turn_down()
if random_choice(): move_forward()
