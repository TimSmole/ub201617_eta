if not flag_b: turn_down()
if not can_move_backward: move_backward()
if getting_closer(): clear_flag_a()
if not can_move_backward: turn_up()
if can_move_backward: mark_position()
if marked_forward: go_to_flag_a()
if marked_current: go_to_flag_a()
if not marked_forward: turn_random()
if not getting_closer(): move_forward()
if can_move_forward: move_forward()
if marked_current: unmark_position()
if not can_move_forward: clear_flag_b()
if not check_visited_position(): clear_flag_b()
if can_move_forward: set_flag_b()
turn_left()
if check_no_progress(): unmark_position()
if not can_move_forward: turn_random()
if flag_a: turn_up()
if not marked_forward: clear_flag_b()
if not flag_a: move_forward()
if not check_visited_position(): turn_down()
mark_position()
if flag_b: unmark_position()
if marked_backward: turn_random()
if can_move_backward: move_backward()
