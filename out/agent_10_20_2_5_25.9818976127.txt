if not marked_backward: mark_position()
if flag_a: turn_up()
if not marked_backward: set_flag_b()
if not flag_b: nop()
if marked_current: move_forward()
if not flag_a: turn_right()
if not check_visited_position(): nop()
if not getting_closer(): turn_random()
if not can_move_forward: mark_position()
if random_choice(): nop()
if check_visited_position(): turn_down()
if not marked_backward: go_to_flag_a()
if not marked_forward: turn_up()
if marked_forward: turn_random()
if not flag_a: move_forward()
if not getting_closer(): mark_position()
if random_choice(): go_to_flag_a()
if not flag_a: turn_down()
if not flag_b: set_flag_b()
if can_move_backward: go_to_flag_b()
